<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>퀴즈 이펙트</title>

    <link rel="stylesheet" href="../assets/css/quiz.css">

    <link href="https://webfontworld.github.io/DungGeunMo/DungGeunMo.css" rel="stylesheet">
    <link href="https://webfontworld.github.io/Cafe24Dangdanghae/Cafe24Dangdanghae.css" rel="stylesheet">
</head>

<body>
    <header id="header">
        <h1><a href="quizEffect.html">Quiz</a> <em>관식(여러문제) 슬라이드 유형</em></h1>
        <nav>
            <ul>
                <li><a href="quizEffect01.html">1</a></li>
                <li><a href="quizEffect02.html">2</a></li>
                <li><a href="quizEffect03.html">3</a></li>
                <li><a href="quizEffect04.html">4</a></li>
                <li><a href="quizEffect05.html">5</a></li>
                <li class="active"><a href="quizEffect06.html">6</a></li>
                <li><a href="quizEffect07.html">7</a></li>
            </ul>
        </nav>
    </header>
    <!-- //header -->

    <main id="main">
        <div class="quiz__wrap">
            <div class="quiz">
                <span class="quiz__type"></span>
                <h2 class="quiz__question">
                    <!-- <span class="number"></span>
                    <div class="ask"></div> -->
                </h2>
                <div class="quiz__view">
                    <div class="true">정답입니다!</div>
                    <div class="false">틀렸습니다!</div>
                    <div class="dog">
                        <div class="head">
                            <div class="ears"></div>
                            <div class="face"></div>
                            <div class="eyes">
                                <div class="teardrop"></div>
                            </div>
                            <div class="nose"></div>
                            <div class="mouth">
                                <div class="tongue"></div>
                            </div>
                            <div class="chin"></div>
                        </div>
                        <div class="body">
                            <div class="tail"></div>
                            <div class="legs"></div>
                        </div>
                    </div>
                </div>
                <div class="quiz__answer">
                    <div class="quiz__selects">
                        <!-- <label for="select1">
                            <input type="radio" id="select1" class="select" name="select" value="1">
                            <span class="choice"></span>
                        </label>
                        <label for="select2">
                            <input type="radio" id="select2" class="select" name="select" value="2">
                            <span class="choice"></span>
                        </label>
                        <label for="select3">
                            <input type="radio" id="select3" class="select" name="select" value="3">
                            <span class="choice"></span>
                        </label>
                        <label for="select4">
                            <input type="radio" id="select4" class="select" name="select" value="4">
                            <span class="choice"></span>
                        </label> -->
                    </div>

                    <div class="result"></div>
                    <button class="confirm">다음 문제 보기</button>
                </div>
            </div>
        </div>
    </main>
    <!-- //main -->

    <footer id="footer">
        <a href="mailto:webstoryboy@naver.com">webstoryboy@naver.com</a>
    </footer>
    <!-- //footer -->

    <script>
        // 문제 정보
        const quizInfo = [
            {
                answerType : "웹디자인기능사 2009년 4회",
                answerNum : "1",
                answerAsk : "다음 중 빨간색이 가장 선명하고 뚜렷해 보일 수 있는 배경색으로 옳은 것은?",
                answerChoice : [
                    "주황",
                    "노랑",
                    "흰색",
                    "보라",
                ],
                answerResult : "흰색",
                answerEx : "다음 중 빨간색이 가장 선명하고 뚜렷해 보일 수 있는 배경색은 흰색입니다."
            },
            {
                answerType : "웹디자인기능사 2009년 4회",
                answerNum : "2",
                answerAsk : "다음 중 명도에 대한 설명으로 옳지 않은 것은?",
                answerChoice : [
                    "명도의 밝기는 흑백사진에서 볼 수 있는 색상이 밝고 어두운 정도를 말한다",
                    "색이 완전히 제거되고 단지 명도만이 존재하는 상태를 무색(achromatic)이라 한다.",
                    "색의 명도는 얼마나 많이 흰색이 혼합되어 졌는가에 따라 변화가 생긴다.",
                    "유채색의 명도는 밝은 음영(tint)과 어두운 음영(shade)으로 나타낼 수 있다.",
                ],
                answerResult : "3",
                answerEx : "색의 명도는 얼마나 많이 흰색이 혼합되어 졌는가에 따라 변화가 생긴다."
            },
            {
                answerType : "웹디자인기능사 2009년 4회",
                answerNum : "3",
                answerAsk : "다음 중 디자인의 조건에 해당하지 않는 것은?",
                answerChoice : [
                    "합목적성",
                    "심미성",
                    "경제성",
                    "유통성",
                ],
                answerResult : "유통성",
                answerEx : "디자인의 조건은 합목적성, 심미성, 경제성입니다."
            },
            {
                answerType : "웹디자인기능사 2009년 4회",
                answerNum : "4",
                answerAsk : "입체파(Cubism)의 대표적인 화가는",
                answerChoice : [
                    "피카소",
                    "쿠르베",
                    "찰스 자보",
                    "도미에",
                ],
                answerResult : "피카소",
                answerEx : "피카소는 입체주의에 거장으로 평가받는 대표적인 화가이다."
            },
            {
                answerType : "웹디자인기능사 2009년 4회",
                answerNum : "5",
                answerAsk : "단순화(Simple) 디자인의 장점으로 거리가 먼 것은?",
                answerChoice : [
                    "장식성",
                    "접근 용이성",
                    "인식성",
                    "사용성",
                ],
                answerResult : "장식성",
                answerEx : "장식성은 단순화 디자인의 장점으로 거리가 멀다."
            }
        ];
        
        const quizType = document.querySelector(".quiz__type");                 //퀴즈 타입
        const quizQuestion = document.querySelector(".quiz__question");         //문제 번호, 질문
        const quizSelects = document.querySelector(".quiz__selects");           //객관식 보기
        const quizResult = document.querySelector(".quiz__answer .result");     //해설
        const quizConfirm = document.querySelector(".quiz__answer .confirm");   //정답 확인버튼
        const quizView = document.querySelector(".quiz__view");                 //강아지
        
        let quizCount = 0;
        let quizScore = 0;
        
        // 문제 출력
        const updateQuiz = (index) => {
            const questionTag = `
                <span class="number">${quizInfo[index].answerNum}. </span>
                <div class="ask">${quizInfo[index].answerAsk}</div>
            `;
            const choiceTag = `
                <label for="select1">
                    <input type="radio" id="select1" class="select" name="select" value="1">
                    <span class="choice">${quizInfo[index].answerChoice[0]}</span>
                </label>
                <label for="select2">
                    <input type="radio" id="select2" class="select" name="select" value="2">
                    <span class="choice">${quizInfo[index].answerChoice[1]}</span>
                </label>
                <label for="select3">
                    <input type="radio" id="select3" class="select" name="select" value="3">
                    <span class="choice">${quizInfo[index].answerChoice[2]}</span>
                </label>
                <label for="select4">
                    <input type="radio" id="select4" class="select" name="select" value="4">
                    <span class="choice">${quizInfo[index].answerChoice[3]}</span>
                </label>
            `;

            //문제 출력
            quizType.innerHTML = quizInfo[index].answerType;    //퀴즈 유형
            quizQuestion.innerHTML = questionTag;           //번호, 질문
            quizSelects.innerHTML = choiceTag;              //객관식
            quizResult.innerHTML = quizInfo[index].answerEx;    //해설

            const quizChoice = quizSelects.querySelectorAll(".choice");

            for(let i=0; i<quizChoice.length; i++){
                quizChoice[i].setAttribute("onclick", "choiceSelected(this)");
            }

            // 문제, 해설 숨기기
            quizResult.style.display = "none";
            quizConfirm.style.display = "none";
        }
        updateQuiz(quizCount);

        const choiceSelected = (answer) => {
            let userAnswer = answer.textContent;                    //사용자가 체크한 정답
            let currentAnswer = quizInfo[quizCount].answerResult;   //문제 정답

            if(userAnswer == currentAnswer){
                console.log("정답");
                quizView.classList.add("like");
            } else {
                console.log("오답");
                quizView.classList.add("dislike");
                quizResult.style.display = "block";
            }
            quizConfirm.style.display = "block";
        }

        // 정답 확인 버튼
        const answerQuiz = () => {
            quizCount++;
            updateQuiz(quizCount);
            quizView.classList.remove("like", "dislike");

            //마지막 문제
            if(quizInfo.length -1 == quizCount){
                quizConfirm.textContent = "총 몇 문제 중에 몇 문제를 맞추었습니다.";
            }
        }

        quizConfirm.addEventListener("click", answerQuiz);
    </script>
</body>

</html>